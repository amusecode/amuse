

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AMUSE Style Guide &mdash; AMUSE 12.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Source Code Management" href="code_management.html" />
    <link rel="prev" title="Running AMUSE on The Cartesius supercomputer" href="cartesius.html" />
     
    <link rel="stylesheet" href="../_static/default.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AMUSE
          

          
          </a>

          
            
            
              <div class="version">
                12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_tutorial/index.html">Interactive tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quantities_and_units.html">Quantities and Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="particles.html">Datamodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="particle_attributes.html">Particle Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="bridge.html">Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="available-codes.html">Currently supported Community Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_support.html">Support code for AMUSE framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy_support.html">Support code for the community code interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileformat.html">Supported File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting during a run</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopping_conditions.html">Stopping Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="from_codes_to_data.html">From Codes to Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioframework.html">Input / Output Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory-structure.html">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="incode_storage.html">Sets and Grids in Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda-setup.html">Setting up GPGPU with CUDA</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplified_function_interface.html">Simplified interface function specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="interface_specification.html">Interface Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="message-protocol.html">Message protocol between python and community codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="distributed.html">Distributed AMUSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartesius.html">Running AMUSE on The Cartesius supercomputer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AMUSE Style Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-code">Python Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c-c-code">C / C++ code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fortran-code">Fortran code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_management.html">Source Code Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMUSE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference documentation</a> &raquo;</li>
        
      <li>AMUSE Style Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/style_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="amuse-style-guide">
<h1>AMUSE Style Guide<a class="headerlink" href="#amuse-style-guide" title="Permalink to this headline">¶</a></h1>
<p>This Style Guide covers the source code written in the AMUSE project. The
source of the existing codes, integrated into AMUSE, do not have to
follow this guide. Existing codes are not rewritten.</p>
<div class="section" id="python-code">
<h2>Python Code<a class="headerlink" href="#python-code" title="Permalink to this headline">¶</a></h2>
<p>All python code should be consistent with the
<a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">Python Style Guide</a>.
We have defined some deviations from the python style guide.
These are listed in this document.</p>
<dl class="docutils">
<dt>Maximum Line Length</dt>
<dd><p class="first">Limit <em>most</em> lines to a maximum of 79 characters.</p>
<p>Some lines may be longer than 79 characters, especially when
this increased readability. When you need to define a class with
a long name, having a superclass with a long name, a line with
more than 79 characters is OK.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NeedsALongNameToDescribeItsFunction</span> <span class="p">(</span><span class="n">AComplicatedNameForTheSuperClass</span><span class="p">):</span>
</pre></div>
</div>
<p>Is better than:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NeedsALongNameToDescribeItsFunction</span> \
    <span class="p">(</span><span class="n">AComplicatedNameForTheSuperClass</span><span class="p">):</span>
</pre></div>
</div>
<p>Or:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NeedsALongNameToDescribeItsFunction</span> <span class="p">(</span>
    <span class="n">AComplicatedNameForTheSuperClass</span><span class="p">):</span>
</pre></div>
</div>
</dd>
<dt>Naming Conventions</dt>
<dd><p class="first">Naming the classes and methods in the code is very important. However,
do not spend too much time on naming. Use long names. Use a longer
name when a shorter name cannot be determined quickly. When you’ve
defined a very long name, it’s use may be harder. When it is used
a lot, a refactoring to shorter name will present itself. When it is
not used a lot, at least the class or method is described better
in the longer name.</p>
<p>Do not use abbreviations in names. Especially, do not use the
first three or four letters of a word (for example, <em>dir</em> for directory
or <em>ref</em> for reference). Also, do not remove the vowels to shorten a
name (for example <em>tmp</em> for temp).</p>
<p>The following one letter variables are allowed.</p>
<blockquote>
<div><ul>
<li><p class="first">Loop variables, when used as <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">...</span></code>,
names allowed are ‘x’ and ‘y’. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stars</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">x</span><span class="o">.</span><span class="n">mass</span>
</pre></div>
</div>
</li>
<li><p class="first">Loop index variables, when used as <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(10):</span></code>,
only name allowed is ‘i’. Thus when writing a loop in a loop, you need
to use longer names.
For example, to iterate over every item in a 10 by 5 table, do:s:</p>
<blockquote>
<div><dl class="docutils">
<dt>for row in range(10):</dt>
<dd><dl class="first last docutils">
<dt>for column in range(5):</dt>
<dd><p class="first last">print table[row][column]</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p class="last">These names are only allowed in short loops of maximum 6 lines. Longer
loops need better names. Also, for looping over row indices and column
indices use <em>row</em> and <em>column</em>.</p>
</dd>
</dl>
</div>
<div class="section" id="c-c-code">
<h2>C / C++ code<a class="headerlink" href="#c-c-code" title="Permalink to this headline">¶</a></h2>
<p>All C and C++ code should be consistent with the
<a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google C++ style guid</a></p>
<dl class="docutils">
<dt>File Names</dt>
<dd>All C++ files should have a <code class="docutils literal notranslate"><span class="pre">.cc</span></code> suffix.</dd>
<dt>Naming Conventions</dt>
<dd>We follow the Python style for naming function names. Function names are all lowercase, with underscores between words.</dd>
</dl>
</div>
<div class="section" id="fortran-code">
<h2>Fortran code<a class="headerlink" href="#fortran-code" title="Permalink to this headline">¶</a></h2>
<p>All Fortran code written in AMUSE should be Fortran 90.  We will follow
the coding standard given in
<a class="reference external" href="http://www.cesm.ucar.edu/working_groups/Software/dev_guide/dev_guide/node7.html">Fortran Coding Standard for the Community Atmospheric Model</a></p>
<dl class="docutils">
<dt>File Names</dt>
<dd>All fortran 90 files should have a <code class="docutils literal notranslate"><span class="pre">.f90</span></code> suffix.</dd>
<dt>Layout</dt>
<dd>Source code should follow the “free form” fortran 90. Do not use
the “fixed form” fortran 77 layout.</dd>
<dt>Indentation</dt>
<dd><p class="first">Use indentation to highlight the block structure of your
code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION</span> <span class="n">example</span><span class="p">(</span><span class="n">arg1</span><span class="p">)</span>
    <span class="n">REAL</span>  <span class="p">::</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">example</span>
    <span class="n">example</span> <span class="o">=</span> <span class="n">arg1</span> <span class="o">*</span> <span class="mf">2.0</span>
<span class="n">END</span> <span class="n">FUNCTION</span>
</pre></div>
</div>
<p class="last">Use 4 character to indent the code.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="code_management.html" class="btn btn-neutral float-right" title="Source Code Management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cartesius.html" class="btn btn-neutral float-left" title="Running AMUSE on The Cartesius supercomputer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019 The AMUSE Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.amusecode.org/" : "http://stats.amusecode.org/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.amusecode.org/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

     


</body>
</html>