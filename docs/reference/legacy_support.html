

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Support code for the community code interfaces &mdash; AMUSE 12.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supported File Formats" href="fileformat.html" />
    <link rel="prev" title="Support code for AMUSE framework" href="core_support.html" />
     
    <link rel="stylesheet" href="../_static/default.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AMUSE
          

          
          </a>

          
            
            
              <div class="version">
                12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_tutorial/index.html">Interactive tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quantities_and_units.html">Quantities and Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="particles.html">Datamodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="particle_attributes.html">Particle Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="bridge.html">Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="available-codes.html">Currently supported Community Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_support.html">Support code for AMUSE framework</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Support code for the community code interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileformat.html">Supported File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting during a run</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopping_conditions.html">Stopping Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="from_codes_to_data.html">From Codes to Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioframework.html">Input / Output Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory-structure.html">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="incode_storage.html">Sets and Grids in Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda-setup.html">Setting up GPGPU with CUDA</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplified_function_interface.html">Simplified interface function specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="interface_specification.html">Interface Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="message-protocol.html">Message protocol between python and community codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="distributed.html">Distributed AMUSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartesius.html">Running AMUSE on The Cartesius supercomputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="style_guide.html">AMUSE Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_management.html">Source Code Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMUSE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference documentation</a> &raquo;</li>
        
      <li>Support code for the community code interfaces</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/legacy_support.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-amuse.rfi.core">
<span id="support-code-for-the-community-code-interfaces"></span><h1>Support code for the community code interfaces<a class="headerlink" href="#module-amuse.rfi.core" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="amuse.rfi.core.CodeFunction">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">CodeFunction</code><span class="sig-paren">(</span><em>interface</em>, <em>owner</em>, <em>specification</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the runtime call to the remote process.</p>
<p>Performs the encoding of python arguments into lists
of values, sends a message over an MPI channel and
waits for a result message, decodes this message and
returns.</p>
</dd></dl>

<dl class="class">
<dt id="amuse.rfi.core.CodeFunctionWithUnits">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">CodeFunctionWithUnits</code><span class="sig-paren">(</span><em>interface</em>, <em>owner</em>, <em>specification</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeFunctionWithUnits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="amuse.rfi.core.CodeInterface">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">CodeInterface</code><span class="sig-paren">(</span><em>name_of_the_worker='worker_code'</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for all interfaces to legacy codes.</p>
<p>When a subclass is instantiated, a number of subprocesses
will be started. These subprocesses are called workers
as they implement the interface and do the actual work
of the instantiated object.</p>
<dl class="method">
<dt id="amuse.rfi.core.CodeInterface.before_get_data_store_names">
<code class="descname">before_get_data_store_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface.before_get_data_store_names" title="Permalink to this definition">¶</a></dt>
<dd><p>called before getting data store names (for state model) - should eventually 
not be necessary</p>
</dd></dl>

<dl class="method">
<dt id="amuse.rfi.core.CodeInterface.before_get_parameter">
<code class="descname">before_get_parameter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface.before_get_parameter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Called everytime just before a parameter is retrieved in using::</dt>
<dd>instance.parameter.name</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amuse.rfi.core.CodeInterface.before_new_set_instance">
<code class="descname">before_new_set_instance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface.before_new_set_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>(Can be) called everytime just before a new set is created</p>
</dd></dl>

<dl class="method">
<dt id="amuse.rfi.core.CodeInterface.before_set_interface_parameter">
<code class="descname">before_set_interface_parameter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface.before_set_interface_parameter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Called everytime just before a interface parameter is updated in using::</dt>
<dd>instance.parameter.name = newvalue</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amuse.rfi.core.CodeInterface.before_set_parameter">
<code class="descname">before_set_parameter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.CodeInterface.before_set_parameter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Called everytime just before a parameter is updated in using::</dt>
<dd>instance.parameter.name = newvalue</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.initialize_mpi">
<code class="descname">initialize_mpi</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.initialize_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>Is MPI initialized in the code or not. Defaults to True if MPI is available</p>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__accept_on_port">
<code class="descname">internal__accept_on_port</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__accept_on_port" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__accept_on_port</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">port_identifier</span><span class="p">,</span> 
  <span class="n">int32</span> <span class="o">*</span> <span class="n">comm_identifier</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__accept_on_port</span><span class="p">(</span><span class="n">port_identifier</span><span class="p">,</span> <span class="n">comm_identifier</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">comm_identifier</span>
  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">LEN</span><span class="o">=*</span><span class="p">)</span> <span class="kd">::</span> <span class="n">port_identifier</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__accept_on_port</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>port_identifier</strong> (<em>string</em><em>, </em><em>IN</em>) – </li>
<li><strong>comm_identifier</strong> (<em>int32</em><em>, </em><em>OUT</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__activate_communicator">
<code class="descname">internal__activate_communicator</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__activate_communicator" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__activate_communicator</span><span class="p">(</span><span class="n">int32</span> <span class="n">comm_identifier</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__activate_communicator</span><span class="p">(</span><span class="n">comm_identifier</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">comm_identifier</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__activate_communicator</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>comm_identifier</strong> (<em>int32</em><em>, </em><em>IN</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__become_code">
<code class="descname">internal__become_code</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__become_code" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__become_code</span><span class="p">(</span><span class="n">int32</span> <span class="n">number_of_workers</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">modulename</span><span class="p">,</span> 
  <span class="kt">char</span> <span class="o">*</span> <span class="n">classname</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__become_code</span><span class="p">(</span><span class="n">number_of_workers</span><span class="p">,</span> <span class="n">modulename</span><span class="p">,</span> <span class="n">classname</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">number_of_workers</span>
  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">LEN</span><span class="o">=*</span><span class="p">)</span> <span class="kd">::</span> <span class="n">modulename</span><span class="p">,</span> <span class="n">classname</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__become_code</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number_of_workers</strong> (<em>int32</em><em>, </em><em>IN</em>) – </li>
<li><strong>modulename</strong> (<em>string</em><em>, </em><em>IN</em>) – </li>
<li><strong>classname</strong> (<em>string</em><em>, </em><em>IN</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__connect_to_port">
<code class="descname">internal__connect_to_port</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__connect_to_port" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__connect_to_port</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">port_identifier</span><span class="p">,</span> 
  <span class="n">int32</span> <span class="o">*</span> <span class="n">comm_identifier</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__connect_to_port</span><span class="p">(</span><span class="n">port_identifier</span><span class="p">,</span> <span class="n">comm_identifier</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">comm_identifier</span>
  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">LEN</span><span class="o">=*</span><span class="p">)</span> <span class="kd">::</span> <span class="n">port_identifier</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__connect_to_port</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>port_identifier</strong> (<em>string</em><em>, </em><em>IN</em>) – </li>
<li><strong>comm_identifier</strong> (<em>int32</em><em>, </em><em>OUT</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__get_message_polling_interval">
<code class="descname">internal__get_message_polling_interval</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__get_message_polling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the message polling interval for MPI 
header messages, in microseconds</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__get_message_polling_interval</span><span class="p">(</span><span class="n">int32</span> <span class="o">*</span> <span class="n">polling_interval</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__get_message_polling_interval</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">polling_interval</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__get_message_polling_interval</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>polling_interval</strong> (<em>int32</em><em>, </em><em>OUT</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__open_port">
<code class="descname">internal__open_port</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__open_port" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__open_port</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="o">*</span> <span class="n">port_identifier</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__open_port</span><span class="p">(</span><span class="n">port_identifier</span><span class="p">)</span>
  <span class="kt">CHARACTER</span><span class="p">(</span><span class="nb">LEN</span><span class="o">=*</span><span class="p">)</span> <span class="kd">::</span> <span class="n">port_identifier</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__open_port</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>port_identifier</strong> (<em>string</em><em>, </em><em>OUT</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.internal__set_message_polling_interval">
<code class="descname">internal__set_message_polling_interval</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.internal__set_message_polling_interval" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">internal__set_message_polling_interval</span><span class="p">(</span><span class="n">int32</span> <span class="n">polling_interval</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">internal__set_message_polling_interval</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">polling_interval</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">internal__set_message_polling_interval</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>polling_interval</strong> (<em>int32</em><em>, </em><em>IN</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.redirection">
<code class="descname">redirection</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.redirection" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the output of the code to null, standard streams or file</p>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.CodeInterface.reuse_worker">
<code class="descname">reuse_worker</code><a class="headerlink" href="#amuse.rfi.core.CodeInterface.reuse_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not stop a worker, re-use an existing one</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="amuse.rfi.core.LegacyFunctionSpecification">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">LegacyFunctionSpecification</code><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification" title="Permalink to this definition">¶</a></dt>
<dd><p>Specification of a legacy function.
Describes the name, result type and parameters of a
legacy function.</p>
<p>The legacy functions are implemented by legacy codes. 
The implementation of legacy functions is in C/C++ or Fortran.
To interact with these functions a specification of the
legacy function is needed.
This specification is used to determine how to encode
and decode the parameters and results of the function.
Objects of this class describe the specification of one
function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">specification</span> <span class="o">=</span> <span class="n">LegacyFunctionSpecification</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specification</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specification</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;int32&quot;</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">specification</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specification</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float64&quot;</span><span class="p">,</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">specification</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specification</span><span class="o">.</span><span class="n">result_type</span> <span class="o">=</span> <span class="s2">&quot;int32&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">specification</span>
<span class="go">function: int test(int one)</span>
<span class="go">output: double two, int __result</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="amuse.rfi.core.LegacyFunctionSpecification.IN">
<code class="descname">IN</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification.IN" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to specify that a parameter is used as an input parameter, passed by value</p>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.LegacyFunctionSpecification.INOUT">
<code class="descname">INOUT</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification.INOUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to specify that a parameter is used as an input and an outpur parameter, passed by reference</p>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.LegacyFunctionSpecification.LENGTH">
<code class="descname">LENGTH</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification.LENGTH" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to specify that a parameter is used as the length parameter for the other parameters</p>
</dd></dl>

<dl class="attribute">
<dt id="amuse.rfi.core.LegacyFunctionSpecification.OUT">
<code class="descname">OUT</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification.OUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to specify that a parameter is used as an output parameter, passed by reference</p>
</dd></dl>

<dl class="method">
<dt id="amuse.rfi.core.LegacyFunctionSpecification.addParameter">
<code class="descname">addParameter</code><span class="sig-paren">(</span><em>name</em>, <em>dtype='i'</em>, <em>direction=&lt;object object&gt;</em>, <em>description=''</em>, <em>default=None</em>, <em>unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.LegacyFunctionSpecification.addParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the specification with a new parameter.</p>
<p>The sequence of calls to addParameter is important. The first
call will be interpreted as the first argument, the second
call as the second argument etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the parameter, used in documentation and function generation</li>
<li><strong>dtype</strong> – Datatype specification string</li>
<li><strong>direction</strong> – Direction of the argument, can be IN, OUT or INOUT</li>
<li><strong>description</strong> – Description of the argument, for documenting purposes</li>
<li><strong>default</strong> – An optional default value for the parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="amuse.rfi.core.PythonCodeInterface">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">PythonCodeInterface</code><span class="sig-paren">(</span><em>implementation_factory=None</em>, <em>name_of_the_worker=None</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.PythonCodeInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for codes having a python implementation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>implementation_factory</strong> – Class of the python implementation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="amuse.rfi.core.legacy_function">
<em class="property">class </em><code class="descclassname">amuse.rfi.core.</code><code class="descname">legacy_function</code><span class="sig-paren">(</span><em>specification_function</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.legacy_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for legacy functions.</p>
<p>The decorated function cannot have any arguments. This
means the decorated function must not have a <code class="docutils literal notranslate"><span class="pre">self</span></code>
argument.</p>
<p>The decorated function must return 
a LegacyFunctionSpecification.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">LegacyExample</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@legacy_function</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">evolve</span><span class="p">():</span>
<span class="gp">... </span>         <span class="n">specification</span> <span class="o">=</span> <span class="n">LegacyFunctionSpecification</span><span class="p">()</span>
<span class="gp">... </span>         <span class="k">return</span> <span class="n">specification</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">LegacyExample</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">evolve</span><span class="o">.</span><span class="n">specification</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">&lt;amuse.rfi.core.LegacyFunctionSpecification object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LegacyExample</span><span class="o">.</span><span class="n">evolve</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">&lt;amuse.rfi.core.legacy_function object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">evolve</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">&lt;amuse.rfi.core.CodeFunction object at 0x...&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>specification_function</strong> – The function to be decorated</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="amuse.rfi.core.legacy_function.specification">
<code class="descname">specification</code><a class="headerlink" href="#amuse.rfi.core.legacy_function.specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the specification for the call.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="amuse.rfi.core.stop_interfaces">
<code class="descclassname">amuse.rfi.core.</code><code class="descname">stop_interfaces</code><span class="sig-paren">(</span><em>exceptions=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.rfi.core.stop_interfaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the workers of all instantiated interfaces.</p>
<p>All instantiated interfaces will become unstable
after this call!</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fileformat.html" class="btn btn-neutral float-right" title="Supported File Formats" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="core_support.html" class="btn btn-neutral float-left" title="Support code for AMUSE framework" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019 The AMUSE Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.amusecode.org/" : "http://stats.amusecode.org/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.amusecode.org/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

     


</body>
</html>