

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Datamodel &mdash; AMUSE 12.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Particle Attributes" href="particle_attributes.html" />
    <link rel="prev" title="Quantities and Units" href="quantities_and_units.html" />
     
    <link rel="stylesheet" href="../_static/default.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AMUSE
          

          
          </a>

          
            
            
              <div class="version">
                12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_tutorial/index.html">Interactive tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quantities_and_units.html">Quantities and Units</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Datamodel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#containers">Containers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-or-grid">Set or grid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-code-or-file">Memory, code or file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#varying-attributes">Varying attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#objects-not-classes">Objects not classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#identity">Identity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ownership">Ownership</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#particle-keys">Particle keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sets-of-particles">Sets of particles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#object">object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods-to-retreive-physical-properties-of-the-particles-set">Methods to retreive physical properties of the particles set</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="particle_attributes.html">Particle Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="bridge.html">Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="available-codes.html">Currently supported Community Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_support.html">Support code for AMUSE framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy_support.html">Support code for the community code interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileformat.html">Supported File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting during a run</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopping_conditions.html">Stopping Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="from_codes_to_data.html">From Codes to Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioframework.html">Input / Output Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory-structure.html">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="incode_storage.html">Sets and Grids in Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda-setup.html">Setting up GPGPU with CUDA</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplified_function_interface.html">Simplified interface function specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="interface_specification.html">Interface Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="message-protocol.html">Message protocol between python and community codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="distributed.html">Distributed AMUSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartesius.html">Running AMUSE on The Cartesius supercomputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="style_guide.html">AMUSE Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_management.html">Source Code Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMUSE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference documentation</a> &raquo;</li>
        
      <li>Datamodel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/particles.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="datamodel">
<h1>Datamodel<a class="headerlink" href="#datamodel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="containers">
<h3>Containers<a class="headerlink" href="#containers" title="Permalink to this headline">¶</a></h3>
<p>The AMUSE datamodel is based on objects stored in containers. The
containers store all the relevant data of the objects. One can work
with the data in a container as a whole or with an individual object
in a container. When working with an individual object all data will
be retrieved from and stored in the container of that object. <em>This
is different from normal python objects and lists where the lists
store references to the objects and the data is stored on the
objects</em>.</p>
<p>Amuse containers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sun</span> <span class="o">=</span> <span class="n">stars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sun</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">|</span>  <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">stars</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[1.0, 3.0] MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">sun</span><span class="o">.</span><span class="n">mass</span>
<span class="go">0.5 MSun</span>
</pre></div>
</div>
<p>Python lists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sun</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="n">mass</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">star</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="n">mass</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="p">[</span><span class="n">sun</span><span class="p">,</span> <span class="n">star</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">stars</span><span class="o">.</span><span class="n">mass</span> <span class="c1"># cannot access attributes on the list</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;list&#39; object has no attribute &#39;mass&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="set-or-grid">
<h3>Set or grid<a class="headerlink" href="#set-or-grid" title="Permalink to this headline">¶</a></h3>
<p>AMUSE supports two kinds of containers. One container kind
implements a one dimensional set of objects. You can add and remove
objects from the set and combine sets in different ways. This
container kind is called <strong>‘Particles’</strong> and the individual objects
stored are called <strong>‘Particle’</strong>. The other container kind
implements a multidimensional grid of objects. You cannot change the
shape of a grid and objects cannot be added or removed from a
grid. This container kind is called <strong>‘Grid’</strong> and individual
objects stored in the container are called <strong>‘GridPoint’</strong>.</p>
<p>With particles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">stars</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[2.0, 3.0] MSun</span>
</pre></div>
</div>
<p>With grids:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">g</span> <span class="o">/</span> <span class="n">units</span><span class="o">.</span><span class="n">cm</span> <span class="o">**</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point</span> <span class="o">=</span> <span class="n">field</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="mi">5</span>  <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">g</span> <span class="o">/</span> <span class="n">units</span><span class="o">.</span><span class="n">cm</span> <span class="o">**</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">field</span><span class="o">.</span><span class="n">density</span>
<span class="go">[[ 1.  2.], [ 5.  4.]] g / (cm**3)</span>
</pre></div>
</div>
</div>
<div class="section" id="memory-code-or-file">
<h3>Memory, code or file<a class="headerlink" href="#memory-code-or-file" title="Permalink to this headline">¶</a></h3>
<p>The containers in AMUSE can save the data for individual objects in
different kinds of <strong>‘Stores’</strong>. AMUSE currently implements 3 kinds
of stores. One kind of store saves all data in memory, this kind is
used by default and provides the fastest way to work with the
containers. Another kind of store saves and retrieves all data from
a community code. It uses MPI messages to communicate this data.
This kind is used by default for containers provided by a code and
is the primary way by which you can interact with the data inside a
running code. The last kind of container stores and retrieves data from
an HDF5 file. This kind is only used when saving or loading a container.</p>
</div>
<div class="section" id="varying-attributes">
<h3>Varying attributes<a class="headerlink" href="#varying-attributes" title="Permalink to this headline">¶</a></h3>
<p>In memory containers can support a user defined set of attributes
for the contained objects. You can define a new attribute for the
container by assigning a value to the attribute. In code containers
support a pre-defined, per code set of attributes for the contained
objects. You cannot define a new attribute on these containers. Also
as a code may not allow some attributes to be set individually, the
container also cannot set some attributes individually. For example
you often cannot set the X position of a particle, you must set the
X, Y, and Z position in one go.</p>
<p>Adding attributes to a set or object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># you can add an attribute by assigning to a name on a set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sun</span> <span class="o">=</span> <span class="n">stars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">sun</span>
<span class="go">Particle(1, mass=1.0 MSun)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sun</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">RSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">sun</span>
<span class="go">Particle(1, mass=1.0 MSun, radius=1.0 RSun)</span>
</pre></div>
</div>
</div>
<div class="section" id="objects-not-classes">
<h3>Objects not classes<a class="headerlink" href="#objects-not-classes" title="Permalink to this headline">¶</a></h3>
<p>Different kinds of particles or gridpoints are not modelled by
implementing subclasses. Instead, different kinds of particles are
defined ad-hoc, by variable naming (for example planets, stars or
cloud_particles) and varying attributes (stars have position and
mass, cloud_particles have position and density). This allows you to
model your problem with the names and attributes that best fit your
model. Unfortunately, this way of working does remove a level of
self description in the system. To mitigate this problem the
containers defined in community codes and in example scripts all
follow the same conventions. We describe these conventions in a
later section in this chapter.</p>
<p>Different attributes and names for different kinds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># stars and planets share some attributes (radius)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but also have attributes that make sense only for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the specific kind (population for planets,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># luminosity for stars)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">LSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">RSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">planets</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">planets</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">6371</span>  <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">planets</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7000000000</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="identity">
<h3>Identity<a class="headerlink" href="#identity" title="Permalink to this headline">¶</a></h3>
<p>Each object in a container has a unique identity, no two objects in
a container can have the same identity. In a <strong>‘Particles’</strong>
container this identity is provided by a unique 64-bit key. In a
<strong>‘Grid’</strong> container this identity is provided by the n-dimensional
index in the grid. Objects with the same identity can exists in
multiple containers. These objects are considered as the same
<em>conceptual</em> object in AMUSE. Different containers will provide
different information about that object. For example the same <em>star</em>
could live in a container in memory, in a container of a stellar
evolution code and in a container of a stellar dynamics code. AMUSE
provides several functions to link these objects and to transfer
data between them.</p>
<p>Different sets store information on the same object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stars</span><span class="o">.</span><span class="n">luminosity</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">LSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bodies</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bodies</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">MSun</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">bodies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">stars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># the same &#39;conceptual&#39; object in different sets</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">bodies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">stars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># not the same object</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">bodies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Particle(1, mass=1.0 MSun)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># finding the coresponding particle in the stars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">bodies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">as_particle_in_set</span><span class="p">(</span><span class="n">stars</span><span class="p">)</span>
<span class="go">Particle(1, luminosity=1.0 LSun)</span>
</pre></div>
</div>
</div>
<div class="section" id="ownership">
<h3>Ownership<a class="headerlink" href="#ownership" title="Permalink to this headline">¶</a></h3>
<p>Objects in a container are owned by that container, the container
controls the data and the life-cycle of each object.</p>
</div>
</div>
<div class="section" id="particle-keys">
<h2>Particle keys<a class="headerlink" href="#particle-keys" title="Permalink to this headline">¶</a></h2>
<p>All particles have a unique 64-bit key. This key is created using
a random number generator. The chances of duplicate keys using
64-bit integers are finite but very low. The chance of a duplicate
key can be determined by a generalization of the birthday problem.</p>
<p>Duplicate keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># given n random integers drawn from a discrete uniform distribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># with range [1,highest_integer], what is the probability</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># p(n;highest_integer) that at least two numbers are the same?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_bits</span> <span class="o">=</span> <span class="mi">64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">highest_integer</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">number_of_bits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_particles</span> <span class="o">=</span> <span class="mf">1000000.0</span> <span class="c1"># one million</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probability</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="p">(</span><span class="o">-</span><span class="n">number_of_particles</span> <span class="o">*</span> <span class="p">(</span><span class="n">number_of_particles</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">))</span><span class="o">/</span> <span class="p">(</span><span class="mf">2.0</span><span class="o">*</span> <span class="n">highest_integer</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">probability</span>
<span class="go">2.71050268896e-08</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># can also set the probablity and determine the set size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probability</span> <span class="o">=</span> <span class="mf">0.00001</span> <span class="c1"># 0.001 percent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_particles</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">highest_integer</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">probability</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">number_of_particles</span>
<span class="go">19207725.6894</span>
</pre></div>
</div>
<p>If you use large sets or want to load a lot of simulations with
different particles into a script the probability of encountering a
duplicate may be too high. You can check for duplicates in a set of
particles by calling <code class="docutils literal notranslate"><span class="pre">has_duplicates</span></code> on a set. You can also change
the key generator to better match your problem.</p>
</div>
<div class="section" id="sets-of-particles">
<h2>Sets of particles<a class="headerlink" href="#sets-of-particles" title="Permalink to this headline">¶</a></h2>
<p>The AMUSE datamodel assumes all particles come in sets. The
data of a particle is stored in the set.</p>
<span class="target" id="module-amuse.datamodel"></span><p>This module provides access to all set handling 
in AMUSE. The actual implementation is in the
base, storage and particle modules.</p>
<dl class="class">
<dt id="amuse.datamodel.AbstractParticleSet">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">AbstractParticleSet</code><span class="sig-paren">(</span><em>original=None</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract superclass of all sets of particles.
This class defines common code for all particle sets.</p>
<p>Particle sets define dynamic attributes. Attributes
can be set and retrieved on the particles using common python
syntax. These attributes can only have values with units.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span>
<span class="go">quantity&lt;[10.0, 20.0] kg&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span>
<span class="go">quantity&lt;[1.0, 1.0] kg&gt;</span>
</pre></div>
</div>
<p>Particle sets can be iterated over.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">particle</span> <span class="ow">in</span> <span class="n">particles</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">particle</span><span class="o">.</span><span class="n">mass</span>
<span class="gp">...</span>
<span class="go">10.0 kg</span>
<span class="go">20.0 kg</span>
</pre></div>
</div>
<p>Particle sets can be indexed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
<span class="go">quantity&lt;20.0 m&gt;</span>
</pre></div>
</div>
<p>Particle sets can be sliced.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">x</span>
<span class="go">quantity&lt;[20.0, 30.0] m&gt;</span>
</pre></div>
</div>
<p>Particle sets can be copied.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">quantity&lt;[2.0, 2.0, 2.0] m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy</span><span class="o">.</span><span class="n">x</span>
<span class="go">quantity&lt;[10.0, 20.0, 30.0] m&gt;</span>
</pre></div>
</div>
<p>Particle sets can be added together.
Attribute values are not stored by the resulting subset. The subset
provides a view on two or more sets of particles. Changing attributes
of the sum of sets will also change the attributes of each original
set, contrary to copy().</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span> <span class="o">=</span> <span class="n">particles1</span> <span class="o">+</span> <span class="n">particles2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">new_set</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0, 4.0] m</span>
</pre></div>
</div>
<p>Particle sets can be subtracted from each other.
Like with addition, attribute values are not stored by the resulting
subset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">junk</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span> <span class="o">=</span> <span class="n">particles</span> <span class="o">-</span> <span class="n">junk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">new_set</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0, 4.0] m</span>
</pre></div>
</div>
<p>Particle sets can have instance based or global vector attributes.
A particle set stores a list of scalar values for each attribute.
Some attributes are more naturally accessed as lists
of vector values. Once defined, a particle set can
convert the scalar values of 2 or more attributes into one
vector attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.support.data</span> <span class="k">import</span> <span class="n">particle_attributes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span> <span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span> <span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.0</span> <span class="p">,</span> <span class="mf">6.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">add_vector_attribute</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">p</span>
<span class="go">quantity&lt;[[1.0, 3.0, 5.0], [2.0, 4.0, 6.0]] m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">quantity&lt;[1.0, 3.0, 5.0] m&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">position</span> <span class="c1"># &quot;position&quot; is a global vector attribute, coupled to x,y,z</span>
<span class="go">quantity&lt;[[1.0, 3.0, 5.0], [2.0, 4.0, 6.0]] m&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.__add__">
<code class="descname">__add__</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a particle subset, composed of the given
particle(s) and this particle set. Attribute values are
not stored by the subset. The subset provides a view
on two or more sets of particles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – (set of) particle(s) to be added to self.</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span> <span class="o">=</span> <span class="n">particles1</span> <span class="o">+</span> <span class="n">particles2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.ParticlesSubset object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">new_set</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0, 4.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.__sub__">
<code class="descname">__sub__</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset of the set without the given particle(s)
Attribute values are not stored by the subset. The subset
provides a view on two or more sets of particles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – (set of) particle(s) to be subtracted from self.</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">junk</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span> <span class="o">=</span> <span class="n">particles</span> <span class="o">-</span> <span class="n">junk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.ParticlesSubset object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">new_set</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0, 4.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.add_particle">
<code class="descname">add_particle</code><span class="sig-paren">(</span><em>particle</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.add_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one particle to the set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particle</strong> – particle to add</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.Particle object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.add_particles">
<code class="descname">add_particles</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.add_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds particles from the supplied set to this set. Attributes
and values are copied over.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For performance reasons the particles
are not checked for duplicates. When the same particle
is part of both sets errors may occur.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – set of particles to copy values from</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">add_particles</span><span class="p">(</span><span class="n">particles2</span><span class="p">)</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.ParticlesSubset object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles1</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles1</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0, 4.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.as_set">
<code class="descname">as_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.as_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on this set. The subset
will contain all particles of this set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">as_set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>memento=None</em>, <em>keep_structure=False</em>, <em>filter_attributes=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new in particle set and copies all attributes and 
values into this set.</p>
<p>The history of the set is not copied over.</p>
<p>Keyword arguments:
memento – internal, a dictionary to keep track of already copied sets in</p>
<blockquote>
<div>case of links between particles (default: None, will be created)</div></blockquote>
<dl class="docutils">
<dt>keep_structure – internal, if True, in case of a sub or super set make a copy of</dt>
<dd>the original set and return a new subset (default: False)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.copy_values_of_attribute_to">
<code class="descname">copy_values_of_attribute_to</code><span class="sig-paren">(</span><em>attribute_name</em>, <em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.copy_values_of_attribute_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy values of one attribute from this set to the
other set. Will only copy values for the particles
in both sets. See also <a class="reference internal" href="#amuse.datamodel.AbstractParticleSet.synchronize_to" title="amuse.datamodel.AbstractParticleSet.synchronize_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">synchronize_to()</span></code></a>.</p>
<p>If you need to do this a lot, setup a dedicated
channel.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span> <span class="o">=</span> <span class="n">particles1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles2</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">particles1</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">Particle</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">copy_values_of_attribute_to</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">particles2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles2</span><span class="o">.</span><span class="n">x</span>
<span class="go">[3.0, 4.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.difference">
<code class="descname">difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new subset containing the difference between
this set and the provided set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">15.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">less_than_15kg</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">less_than_15kg</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.empty_copy">
<code class="descname">empty_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.empty_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new in memory set and copies the particles to it.
The attributes and values are not copied.The history
of the set is not copied over.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">original</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">original</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="s2">&quot;mass&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">original</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy</span> <span class="o">=</span> <span class="n">original</span><span class="o">.</span><span class="n">empty_copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">copy</span><span class="p">,</span> <span class="s2">&quot;mass&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">copy</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.ensure_presence_of">
<code class="descname">ensure_presence_of</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.ensure_presence_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one particle to the set, but only if not already in set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particle</strong> – particle to add</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">=</span><span class="n">particles</span><span class="o">.</span><span class="n">ensure_presence_of</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">=</span><span class="n">particles</span><span class="o">.</span><span class="n">ensure_presence_of</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">==</span><span class="n">p2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle2</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="o">=</span><span class="n">particle</span><span class="o">.</span><span class="n">as_set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span><span class="o">=</span><span class="nb">set</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">particle2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set2</span><span class="o">=</span><span class="n">particles</span><span class="o">.</span><span class="n">ensure_presence_of</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">particles</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">set2</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.has_duplicates">
<code class="descname">has_duplicates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.has_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when a set contains a particle with the
same key more than once. Particles with the same
key are interpreted as the same particles.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">Particle</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">Particle</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">has_duplicates</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">Particle</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">has_duplicates</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">==</span> <span class="n">p1</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.remove_particle">
<code class="descname">remove_particle</code><span class="sig-paren">(</span><em>particle</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.remove_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a particle from this set.</p>
<p>Result is undefined if particle is not part of the set</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particle</strong> – particle to remove from this set</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">remove_particle</span><span class="p">(</span><span class="n">particles1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles1</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.remove_particles">
<code class="descname">remove_particles</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.remove_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes particles from the supplied set from this set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – set of particles to remove from this set</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles2</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">particles1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.Particle object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles1</span><span class="o">.</span><span class="n">remove_particles</span><span class="p">(</span><span class="n">particles2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">particles1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles1</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.reversed">
<code class="descname">reversed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.reversed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset with the same particles, but with reversed
sequenctial order (the first particle will become last)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">reversed</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span><span class="o">.</span><span class="n">radius</span>
<span class="go">[3.0, 2.0, 1.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>selection_function</em>, <em>attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on this set. The subset
will contain all particles for which the selection
function returned True. The selection function
is called with scalar quantities defined by
the attributes parameter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">15.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[20.0, 30.0] kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2.0, 3.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.select_array">
<code class="descname">select_array</code><span class="sig-paren">(</span><em>selection_function</em>, <em>attributes=()</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.select_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on this set. The subset
will contain all particles for which the selection
function returned True. The selection function
is called with a vector quantities containing all
the values for the attributes parameter.</p>
<p>This function can be faster than the select function
as it works on entire arrays. The selection_function
is called once.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select_array</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">15.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[20.0, 30.0] kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2.0, 3.0] m</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">new_quantity</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select_array</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="p">(</span><span class="mi">500</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="go">500</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.sorted_by_attribute">
<code class="descname">sorted_by_attribute</code><span class="sig-paren">(</span><em>attribute</em>, <em>kind='mergesort'</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.sorted_by_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset with the same particles, but sorted
using the given attribute name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Argument:</th><td class="field-body">kind, the sort method for supported kinds see
the numpy.sort documentation</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">sorted_by_attribute</span><span class="p">(</span><span class="s1">&#39;mass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[1.0, 2.0, 3.0] kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="o">.</span><span class="n">radius</span>
<span class="go">[3.0, 1.0, 2.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.sorted_by_attributes">
<code class="descname">sorted_by_attributes</code><span class="sig-paren">(</span><em>*attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.sorted_by_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset with the same particles, but sorted
using the given attribute names. The last attribute name
in the call is used for the primary sort order, the
second-to-last attribute name for the secondary sort order,
and so on. See also numpy.lexsort</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">sorted_by_attributes</span><span class="p">(</span><span class="s1">&#39;mass&#39;</span><span class="p">,</span> <span class="s1">&#39;radius&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="o">.</span><span class="n">radius</span>
<span class="go">[1.0, 2.0, 2.0, 3.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">sorted</span><span class="o">.</span><span class="n">mass</span>
<span class="go">[1.0, 3.0, 4.0, 2.0] kg</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.synchronize_to">
<code class="descname">synchronize_to</code><span class="sig-paren">(</span><em>other_particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.synchronize_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronize the particles of this set
with the contents of the provided set.</p>
<p>After this call the <cite>other_particles</cite> set will have
the same particles as this set.</p>
<p>This call will check if particles have been removed or
added it will not copy values of existing particles
over.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other_particles</strong> – particle set wich has to be updated</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copy</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_particle</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_particle</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">new_particle</span><span class="p">)</span><span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.Particle object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">copy</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">synchronize_to</span><span class="p">(</span><span class="n">copy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">copy</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AbstractParticleSet.to_string">
<code class="descname">to_string</code><span class="sig-paren">(</span><em>attributes_to_show=None</em>, <em>split_at=20</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AbstractParticleSet.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Display string of a particle set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">p0</span><span class="p">)</span> <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.Particle object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">add_particle</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.Particle object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4.0</span> <span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.0</span> <span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>
<span class="go">                 key            x            y</span>
<span class="go">                   -            m           km</span>
<span class="go">====================  ===========  ===========</span>
<span class="go">                  10    4.000e+00    5.000e+00</span>
<span class="go">                  11    3.000e+00    2.000e+00</span>
<span class="go">====================  ===========  ===========</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="amuse.datamodel.Particles">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">Particles</code><span class="sig-paren">(</span><em>size=0</em>, <em>storage=None</em>, <em>keys=None</em>, <em>keys_generator=None</em>, <em>particles=None</em>, <em>is_working_copy=True</em>, <em>**attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.Particles" title="Permalink to this definition">¶</a></dt>
<dd><p>A set of particles. Attributes and values are stored in
a private storage model. This storage model can store
the values in the python memory space, in the memory space
of the code or in a HDF5 file. By default the storage
model is in memory.</p>
</dd></dl>

<dl class="class">
<dt id="amuse.datamodel.ParticlesSubset">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">ParticlesSubset</code><span class="sig-paren">(</span><em>particles</em>, <em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>A subset of particles. Attribute values are not
stored by the subset. The subset provides a limited view
to the particles.</p>
<p>Particle subset objects are not supposed to be created
directly. Instead use the <code class="docutils literal notranslate"><span class="pre">to_set</span></code> or <code class="docutils literal notranslate"><span class="pre">select</span></code> methods.</p>
<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.add_particles_to_store">
<code class="descname">add_particles_to_store</code><span class="sig-paren">(</span><em>keys</em>, <em>attributes=[]</em>, <em>values=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.add_particles_to_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds particles from to the subset, also
adds the particles to the superset</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.as_set">
<code class="descname">as_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.as_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on this set. The subset
will contain all particles of this set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">as_set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>memento=None</em>, <em>keep_structure=False</em>, <em>filter_attributes=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new in particle set and copies all attributes and 
values into this set.</p>
<p>The history of the set is not copied over.</p>
<p>Keyword arguments:
memento – internal, a dictionary to keep track of already copied sets in</p>
<blockquote>
<div>case of links between particles (default: None, will be created)</div></blockquote>
<dl class="docutils">
<dt>keep_structure – internal, if True, in case of a sub or super set make a copy of</dt>
<dd>the original set and return a new subset (default: False)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.difference">
<code class="descname">difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new subset containing the difference between
this set and the provided set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">15.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">less_than_15kg</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">subset</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">less_than_15kg</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.remove_particles_from_store">
<code class="descname">remove_particles_from_store</code><span class="sig-paren">(</span><em>indices</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.remove_particles_from_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes particles from the subset, and removes particles
from the super set</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesSubset.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesSubset.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new subset containing the union between
this set and the provided set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset1</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">25.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset2</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">15.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">union</span> <span class="o">=</span> <span class="n">subset1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">subset2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">union</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">union</span><span class="o">.</span><span class="n">mass</span><span class="o">.</span><span class="n">value_in</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">kg</span><span class="p">))</span>
<span class="go">[10.0, 30.0]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="amuse.datamodel.ParticlesWithUnitsConverted">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">ParticlesWithUnitsConverted</code><span class="sig-paren">(</span><em>particles</em>, <em>converter</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesWithUnitsConverted" title="Permalink to this definition">¶</a></dt>
<dd><p>A view on a particle sets. Used when to convert
values between incompatible sets of units. For example to
convert from si units to nbody units.</p>
<p>The converter must have implement the ConverterInterface.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.units</span> <span class="k">import</span> <span class="n">nbody_system</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles_nbody</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles_nbody</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span> <span class="p">,</span> <span class="mf">20.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">nbody_system</span><span class="o">.</span><span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">convert_nbody</span> <span class="o">=</span> <span class="n">nbody_system</span><span class="o">.</span><span class="n">nbody_to_si</span><span class="p">(</span><span class="mi">10</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span> <span class="p">,</span> <span class="mi">5</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles_si</span> <span class="o">=</span> <span class="n">ParticlesWithUnitsConverted</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">particles_nbody</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">convert_nbody</span><span class="o">.</span><span class="n">as_converter_from_si_to_nbody</span><span class="p">())</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles_nbody</span><span class="o">.</span><span class="n">x</span>
<span class="go">[10.0, 20.0] length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles_si</span><span class="o">.</span><span class="n">x</span>
<span class="go">[50.0, 100.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles_si</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">200.0</span><span class="p">,</span> <span class="mf">400.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles_nbody</span><span class="o">.</span><span class="n">x</span>
<span class="go">[40.0, 80.0] length</span>
</pre></div>
</div>
<dl class="class">
<dt id="amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface">
<em class="property">class </em><code class="descname">ConverterInterface</code><a class="headerlink" href="#amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface definition for the converter.</p>
<dl class="docutils">
<dt>source</dt>
<dd>The source quantity is in the units of the user of a
ParticlesWithUnitsConverted object</dd>
<dt>target</dt>
<dd>The target quantity must be in the units of the
internal particles set.</dd>
</dl>
<dl class="method">
<dt id="amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface.from_source_to_target">
<code class="descname">from_source_to_target</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface.from_source_to_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the quantity from the source units
to the target units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>quantity</strong> – quantity to convert</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface.from_target_to_source">
<code class="descname">from_target_to_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesWithUnitsConverted.ConverterInterface.from_target_to_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the quantity from the target units
to the source units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>quantity</strong> – quantity to convert</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.ParticlesWithUnitsConverted.as_set">
<code class="descname">as_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.ParticlesWithUnitsConverted.as_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on this set. The subset
will contain all particles of this set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subset</span> <span class="o">=</span> <span class="n">particles</span><span class="o">.</span><span class="n">as_set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">subset</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0, 3.0] m</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<div class="section" id="object">
<h3>object<a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="amuse.datamodel.Particle">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">Particle</code><span class="sig-paren">(</span><em>key=None</em>, <em>particles_set=None</em>, <em>set_index=None</em>, <em>set_version=-1</em>, <em>**keyword_arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.Particle" title="Permalink to this definition">¶</a></dt>
<dd><p>A physical object or a physical region simulated as a
physical object (cloud particle).</p>
<p>All attributes defined on a particle are specific for
that particle (for example mass or position). A particle contains
a set of attributes, some attributes are <em>generic</em> and applicable
for multiple modules. Other attributes are <em>specific</em> and are
only applicable for a single module.</p>
<dl class="method">
<dt id="amuse.datamodel.Particle.__add__">
<code class="descname">__add__</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.Particle.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a particle subset, composed of the given
particle(s) and this particle. Attribute values are
not stored by the subset. The subset provides a view
on the particles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – particle(s) to be added to self.</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle1</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle2</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span> <span class="o">=</span> <span class="n">particle1</span> <span class="o">+</span> <span class="n">particle2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_set</span>  <span class="c1"># doctest:+ELLIPSIS</span>
<span class="go">&lt;amuse.datamodel.particles.ParticlesSubset object at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">new_set</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 2.0] m</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.Particle.__sub__">
<code class="descname">__sub__</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.Particle.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an exception: cannot subtract particle(s)
from a particle.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.Particle.as_set">
<code class="descname">as_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.Particle.as_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset view on the set containing this particle. The
subset view includes this particle and no other particles.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particle2</span> <span class="o">=</span> <span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particle2</span><span class="o">.</span><span class="n">x</span>
<span class="go">2.0 m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles_with_one_particle</span> <span class="o">=</span> <span class="n">particle2</span><span class="o">.</span><span class="n">as_set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">particles_with_one_particle</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">particles_with_one_particle</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2.0] m</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="methods-to-retreive-physical-properties-of-the-particles-set">
<h3>Methods to retreive physical properties of the particles set<a class="headerlink" href="#methods-to-retreive-physical-properties-of-the-particles-set" title="Permalink to this headline">¶</a></h3>
</div>
<span class="target" id="module-amuse.datamodel.particle_attributes"></span><dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">center_of_mass</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the center of mass of the particles set.
The center of mass is defined as the average
of the positions of the particles, weighted by their masses.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">center_of_mass</span><span class="p">()</span>
<span class="go">quantity&lt;[0.0, 0.0, 0.0] m&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">center_of_mass_velocity</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the center of mass velocity of the particles set.
The center of mass velocity is defined as the average
of the velocities of the particles, weighted by their masses.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vz</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">center_of_mass_velocity</span><span class="p">()</span>
<span class="go">quantity&lt;[0.0, 0.0, 0.0] m * s**-1&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">kinetic_energy</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the total kinetic energy of the
particles in the particles set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vz</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">kinetic_energy</span><span class="p">()</span>
<span class="go">quantity&lt;1.0 m**2 * kg * s**-2&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">potential_energy</code><span class="sig-paren">(</span><em>particles</em>, <em>smoothing_length_squared=quantity&lt;zero&gt;</em>, <em>G=quantity&lt;6.67428e-11 m**3 * kg**-1 * s**-2&gt;</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the total potential energy of the particles in the particles set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>smooting_length_squared</strong> – gravitational softening, added to every distance**2.</li>
<li><strong>G</strong> – gravitational constant, need to be changed for particles in different units systems</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">potential_energy</span><span class="p">()</span>
<span class="go">quantity&lt;-6.67428e-11 m**2 * kg * s**-2&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">particle_specific_kinetic_energy</code><span class="sig-paren">(</span><em>set</em>, <em>particle</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the specific kinetic energy of the particle.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">vz</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">specific_kinetic_energy</span><span class="p">()</span>
<span class="go">quantity&lt;0.5 m**2 * s**-2&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">amuse.datamodel.particle_attributes.</code><code class="descname">particle_potential</code><span class="sig-paren">(</span><em>set</em>, <em>particle</em>, <em>smoothing_length_squared=quantity&lt;zero&gt;</em>, <em>G=quantity&lt;6.67428e-11 m**3 * kg**-1 * s**-2&gt;</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the potential at the position of the particle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>smooting_length_squared</strong> – gravitational softening, added to every distance**2.</li>
<li><strong>G</strong> – gravitational constant, need to be changed for particles in different units systems</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amuse.datamodel</span> <span class="k">import</span> <span class="n">Particles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">Particles</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">|</span> <span class="n">units</span><span class="o">.</span><span class="n">kg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">potential</span><span class="p">()</span>
<span class="go">quantity&lt;-6.67428e-11 m**2 * s**-2&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><img src="../_images/graphviz-0bd676317f3f853c52bf4bdc6e226c6377c4a7e3.png" alt="digraph multiples {
   fontsize=8.0;
     node [fontsize=8.0,shape=box, style=filled, fillcolor=lightyellow];

     &quot;AttributeStorage&quot; -&gt; &quot;AbstractSet&quot;;
     &quot;AbstractSet&quot; -&gt; &quot;AbstractParticlesSet&quot;;
     &quot;AbstractSet&quot; -&gt; &quot;AbstractGrid&quot;;

     &quot;AbstractParticlesSet&quot; -&gt; &quot;Particles&quot;;
     &quot;AbstractParticlesSet&quot; -&gt; &quot;ParticlesSubSet&quot;;
     &quot;AbstractParticlesSet&quot; -&gt; &quot;ParticlesSuperSet&quot;;
     &quot;AbstractGrid&quot; -&gt; &quot;Grid&quot;;
     &quot;AbstractGrid&quot; -&gt; &quot;SubGrid&quot;;

     &quot;AttributeStorage&quot; -&gt; &quot;InMemoryStorage&quot; [label = &quot;implements&quot;];
     &quot;AttributeStorage&quot; -&gt; &quot;InCodeStorage&quot;;
 }" class="graphviz" /></div>
<div class="graphviz"><img src="../_images/graphviz-31793bc473e316531c5428ab00eadae205fd9228.png" alt="digraph multiples {
   fontsize=8.0;
     node [fontsize=8.0,shape=box, style=filled, fillcolor=lightyellow];
     edge [color=&quot;dodgerblue2&quot;, fontcolor=&quot;dodgerblue2&quot;];

     &quot;Particles&quot; -&gt; &quot;AttributeStorage&quot; [headlabel=&quot; 1&quot;, taillabel=&quot;1&quot;,label = &quot;store&quot;];
     &quot;Grid&quot; -&gt; &quot;AttributeStorage&quot; [headlabel=&quot; 1&quot;, taillabel=&quot;1&quot;, label = &quot;store&quot;];
     &quot;SubGrid&quot; -&gt; &quot;Grid&quot; [headlabel=&quot; 1&quot;, taillabel=&quot;1&quot;, label=&quot;view on&quot;, color=&quot;dodgerblue2&quot;];
     &quot;ParticlesSubSet&quot; -&gt; &quot;Particles&quot; [headlabel=&quot; 1&quot;, taillabel=&quot;1&quot;, label=&quot;view on&quot;, color=&quot;dodgerblue2&quot;];
     &quot;ParticlesSuperSet&quot; -&gt; &quot;Particles&quot; [headlabel=&quot; *&quot;, taillabel=&quot;1&quot;, label=&quot;view on&quot;, color=&quot;dodgerblue2&quot;];
 }" class="graphviz" /></div>
<div class="graphviz"><img src="../_images/graphviz-0d437b0ff718ec589ecf85c2307f67ffa713be17.png" alt="digraph multiples {
   fontsize=8.0;
     node [fontsize=8.0,shape=box, style=filled, fillcolor=lightyellow];

     &quot;AbstractSet&quot; -&gt; &quot;AttributeStorage&quot; [headlabel=&quot; 1&quot;, taillabel=&quot;1&quot;, label = &quot;stored_attributes&quot;, color=&quot;dodgerblue2&quot; , fontcolor=&quot;dodgerblue2&quot;];
     &quot;AbstractSet&quot; -&gt; &quot;DerivedAttribute&quot; [headlabel=&quot; *&quot;, taillabel=&quot;1&quot;, label = &quot;derived_attributes&quot;, color=&quot;dodgerblue2&quot;, fontcolor=&quot;dodgerblue2&quot;];
     &quot;DerivedAttribute&quot; -&gt; &quot;CalculatedAttribue&quot;;
     &quot;DerivedAttribute&quot; -&gt; &quot;VectorAttribute&quot;;
     &quot;DerivedAttribute&quot; -&gt; &quot;FunctionAttribute&quot;;
     &quot;DerivedAttribute&quot; -&gt; &quot;DomainAttribute&quot;;
 }" class="graphviz" /></div>
<img alt="../_images/derived_attributes.png" src="../_images/derived_attributes.png" />
<dl class="class">
<dt id="amuse.datamodel.AttributeStorage">
<em class="property">class </em><code class="descclassname">amuse.datamodel.</code><code class="descname">AttributeStorage</code><a class="headerlink" href="#amuse.datamodel.AttributeStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class of particle storage objects. Implemented by the
storage classes and the particle sets</p>
<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.add_particles_to_store">
<code class="descname">add_particles_to_store</code><span class="sig-paren">(</span><em>keys</em>, <em>attributes=[]</em>, <em>values=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.add_particles_to_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds particles with the given keys to the set. If attribute names
and values are specified these are also set for the new particles.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_all_indices_in_store">
<code class="descname">get_all_indices_in_store</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_all_indices_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of all valid indices in store.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_all_keys_in_store">
<code class="descname">get_all_keys_in_store</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_all_keys_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of all keys stored</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_attribute_names_defined_in_store">
<code class="descname">get_attribute_names_defined_in_store</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_attribute_names_defined_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the attribute names</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_indices_of_keys">
<code class="descname">get_indices_of_keys</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_indices_of_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices where the particles are stored with
the given keys.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_value_in_store">
<code class="descname">get_value_in_store</code><span class="sig-paren">(</span><em>index</em>, <em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_value_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of an attribute for a particle at the given
index.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.get_values_in_store">
<code class="descname">get_values_in_store</code><span class="sig-paren">(</span><em>indices</em>, <em>attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.get_values_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the values for the attributes of the particles at the given indices.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.has_key_in_store">
<code class="descname">has_key_in_store</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.has_key_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given key can be found in the store</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.remove_particles_from_store">
<code class="descname">remove_particles_from_store</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.remove_particles_from_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes particles with the given keys from the set.</p>
</dd></dl>

<dl class="method">
<dt id="amuse.datamodel.AttributeStorage.set_values_in_store">
<code class="descname">set_values_in_store</code><span class="sig-paren">(</span><em>indices</em>, <em>attributes</em>, <em>list_of_values_to_set</em><span class="sig-paren">)</span><a class="headerlink" href="#amuse.datamodel.AttributeStorage.set_values_in_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the attributes of the particles at the given indices to the given values.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="particle_attributes.html" class="btn btn-neutral float-right" title="Particle Attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quantities_and_units.html" class="btn btn-neutral float-left" title="Quantities and Units" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019 The AMUSE Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.amusecode.org/" : "http://stats.amusecode.org/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.amusecode.org/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

     


</body>
</html>