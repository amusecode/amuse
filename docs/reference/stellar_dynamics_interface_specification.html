

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stellar Dynamics Interface Definition &mdash; AMUSE 12.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Stellar Evolution Interface Definition" href="stellar_evolution_interface_specification.html" />
    <link rel="prev" title="Introduction" href="introduction_interface_specification.html" />
     
    <link rel="stylesheet" href="../_static/default.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AMUSE
          

          
          </a>

          
            
            
              <div class="version">
                12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_tutorial/index.html">Interactive tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quantities_and_units.html">Quantities and Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="particles.html">Datamodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="particle_attributes.html">Particle Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="bridge.html">Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="available-codes.html">Currently supported Community Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_support.html">Support code for AMUSE framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy_support.html">Support code for the community code interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileformat.html">Supported File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="report.html">Reporting during a run</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopping_conditions.html">Stopping Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="from_codes_to_data.html">From Codes to Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioframework.html">Input / Output Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="directory-structure.html">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="incode_storage.html">Sets and Grids in Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cuda-setup.html">Setting up GPGPU with CUDA</a></li>
<li class="toctree-l2"><a class="reference internal" href="simplified_function_interface.html">Simplified interface function specification</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="interface_specification.html">Interface Specifications</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction_interface_specification.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Stellar Dynamics Interface Definition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-management">Object Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-state">Object state</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-state-extension-mechanism">Object State, Extension Mechanism</a></li>
<li class="toctree-l4"><a class="reference internal" href="#model-evolution">Model evolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostics">Diagnostics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#services">Services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stellar_evolution_interface_specification.html">Stellar Evolution Interface Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="hydrodynamics_interface_specification.html">Hydrodynamics Interface Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="radiative_transfer_interface_specification.html">Radiative Transfer Interface Definition</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="message-protocol.html">Message protocol between python and community codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="distributed.html">Distributed AMUSE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cartesius.html">Running AMUSE on The Cartesius supercomputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="style_guide.html">AMUSE Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_management.html">Source Code Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMUSE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference documentation</a> &raquo;</li>
        
          <li><a href="interface_specification.html">Interface Specifications</a> &raquo;</li>
        
      <li>Stellar Dynamics Interface Definition</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/stellar_dynamics_interface_specification.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stellar-dynamics-interface-definition">
<h1>Stellar Dynamics Interface Definition<a class="headerlink" href="#stellar-dynamics-interface-definition" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this chapter we describe the common interface for all stellar dynamics codes.</p>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>Gravity dynamics codes have at least one specified parameter. Other parameters need
to be specified on a per code basis. All parameters have to be accessed with functions following
the template of the <code class="docutils literal notranslate"><span class="pre">get_eps</span></code> and <code class="docutils literal notranslate"><span class="pre">set_eps</span></code> functions. A parameter access function may only
retrieve or update the value of a single parameter. After all parameters have been set, the
<code class="docutils literal notranslate"><span class="pre">initialize_code</span></code> function should be called, this gives the code the opportunity prepare the
model.</p>
<dl class="class">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface">
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_eps2">
<code class="descname">get_eps2</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_eps2" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current value of the squared smoothing parameter.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_eps2</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">epsilon_squared</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_eps2</span><span class="p">(</span><span class="n">epsilon_squared</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">epsilon_squared</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_eps2</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epsilon_squared</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current value of the smooting parameter, squared.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the smoothing parameter was set</dd>
<dt>-1 - ERROR</dt>
<dd>The code does not have support for a smoothing parameter</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.initialize_code">
<code class="descname">initialize_code</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.initialize_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the initialization for the code, called before
any other call on the code (so before any parameters
are set or particles are defined in the code).</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">initialize_code</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">initialize_code</span><span class="p">()</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">initialize_code</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Code is initialized</dd>
<dt>-1 - ERROR</dt>
<dd>Error happened during initialization, this error needs to be further specified by every code implemention</dd>
<dt>-2 - ERROR</dt>
<dd>not yet implemented</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.set_eps2">
<code class="descname">set_eps2</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.set_eps2" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the value of the squared smoothing parameter.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">set_eps2</span><span class="p">(</span><span class="n">float64</span> <span class="n">epsilon_squared</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">set_eps2</span><span class="p">(</span><span class="n">epsilon_squared</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">epsilon_squared</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">set_eps2</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>epsilon_squared</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new value of the smooting parameter, squared.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the smoothing parameter was set</dd>
<dt>-1 - ERROR</dt>
<dd>The code does not have support for a smoothing parameter</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="object-management">
<h2>Object Management<a class="headerlink" href="#object-management" title="Permalink to this headline">¶</a></h2>
<p>Most gravitational dynamics codes work on particles (stars, black holes or gas). The following
methods define the functionality to create, remove and query the particles in the code. <em>Currently
the interface does not handle different types of particles</em></p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.delete_particle">
<code class="descname">delete_particle</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.delete_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the definition of particle from the code. After calling this function the particle is
no longer part of the model evolution. It is up to the code if the index will be reused.
This function is optional.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">delete_particle</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">delete_particle</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">delete_particle</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle to be removed. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>particle was removed from the model</dd>
<dt>-1 - ERROR</dt>
<dd>particle could not be removed</dd>
<dt>-2 - ERROR</dt>
<dd>not yet implemented</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_index_of_first_particle">
<code class="descname">get_index_of_first_particle</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_index_of_first_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the index of first particle. When this index is used as the
starting index for the <code class="docutils literal notranslate"><span class="pre">get_index_of_next_particle</span></code> method, all
particles can be iterated over:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">error</span><span class="p">,</span> <span class="n">first_index</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">get_index_of_first_particle</span><span class="p">()</span>
<span class="n">current_index</span> <span class="o">=</span> <span class="n">first_index</span>
<span class="k">while</span> <span class="n">error</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">status</span><span class="p">,</span> <span class="n">mass</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">get_mass</span><span class="p">(</span><span class="n">current_index</span><span class="p">)</span>
    <span class="nb">print</span> <span class="n">mass</span>
    <span class="n">error</span><span class="p">,</span> <span class="n">current_index</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">get_index_of_next_particle</span><span class="p">(</span><span class="n">current_index</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_index_of_first_particle</span><span class="p">(</span><span class="n">int32</span> <span class="o">*</span> <span class="n">index_of_the_particle</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_index_of_first_particle</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_index_of_first_particle</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>OUT</em>) – Index of the first particle</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Index was set</dd>
<dt>1 - ERROR</dt>
<dd>Code has no particles, or cannot set the index</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_index_of_next_particle">
<code class="descname">get_index_of_next_particle</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_index_of_next_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the index of the particle following the provided index. The
iteration direction is determined by the code.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_index_of_next_particle</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> 
  <span class="n">int32</span> <span class="o">*</span> <span class="n">index_of_the_next_particle</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_index_of_next_particle</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span>  <span class="p">&amp;</span>
    <span class="n">index_of_the_next_particle</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">index_of_the_next_particle</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_index_of_next_particle</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle</li>
<li><strong>index_of_the_next_particle</strong> (<em>int32</em><em>, </em><em>OUT</em>) – Index of the particle following the particle with the provided index</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">Index was set</p>
</dd>
<dt>1 - STATE</dt>
<dd><p class="first last">Last index was reached</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">Particle could not be found</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_number_of_particles">
<code class="descname">get_number_of_particles</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_number_of_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the total number of particles define  d in the code</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_number_of_particles</span><span class="p">(</span><span class="n">int32</span> <span class="o">*</span> <span class="n">number_of_particles</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_number_of_particles</span><span class="p">(</span><span class="n">number_of_particles</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">number_of_particles</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_number_of_particles</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>number_of_particles</strong> (<em>int32</em><em>, </em><em>OUT</em>) – Count of the particles in the code</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Count could be determined</dd>
<dt>-1 - ERROR</dt>
<dd>Unable to determine the count</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle">
<code class="descname">new_particle</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a new particle in the stellar dynamics code. The particle is initialized with the provided
mass, radius, position and velocity. This function returns an index that can be used to refer
to this particle.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">new_particle</span><span class="p">(</span><span class="n">int32</span> <span class="o">*</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="n">mass</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">x</span><span class="p">,</span> <span class="n">float64</span> <span class="n">y</span><span class="p">,</span> <span class="n">float64</span> <span class="n">z</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vx</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vy</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vz</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">radius</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">new_particle</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span>  <span class="p">&amp;</span>
    <span class="n">radius</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span> <span class="n">radius</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">new_particle</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>OUT</em>) – An index assigned to the newly created particle.
This index is supposed to be a local index for the code
(and not valid in other instances of the code or in other codes)</li>
<li><strong>mass</strong> (<em>float64</em><em>, </em><em>IN</em>) – The mass of the particle</li>
<li><strong>x</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial position vector of the particle</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial position vector of the particle</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial position vector of the particle</li>
<li><strong>vx</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial velocity vector of the particle</li>
<li><strong>vy</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial velocity vector of the particle</li>
<li><strong>vz</strong> (<em>float64</em><em>, </em><em>IN</em>) – The initial velocity vector of the particle</li>
<li><strong>radius</strong> (<em>float64</em><em>, </em><em>IN</em>) – The radius of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was created and added to the model</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be created</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="object-state">
<h2>Object state<a class="headerlink" href="#object-state" title="Permalink to this headline">¶</a></h2>
<p>Particles in gravitational dynamics have a well known, <em>minimal</em> state. This state is is defined
by a location, velocity and mass and radius. The state can be retrieved and updated with
the following functions.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_state">
<code class="descname">get_state</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current state of a particle. The <em>minimal</em> information of a stellar
dynamics particle (mass, radius, position and velocity) is returned.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_state</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">mass</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">z</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">vx</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">vy</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">vz</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="o">*</span> <span class="n">radius</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_state</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span>  <span class="p">&amp;</span>
    <span class="n">radius</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span> <span class="n">radius</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_state</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle to get the state from. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>mass</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current mass of the particle</li>
<li><strong>x</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>vx</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current velocity vector of the particle</li>
<li><strong>vy</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current velocity vector of the particle</li>
<li><strong>vz</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current velocity vector of the particle</li>
<li><strong>radius</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current radius of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was removed from the model</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.set_state">
<code class="descname">set_state</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the current state of a particle. The <em>minimal</em> information of a stellar
dynamics particle (mass, radius, position and velocity) is updated.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">set_state</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="n">mass</span><span class="p">,</span> <span class="n">float64</span> <span class="n">x</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">y</span><span class="p">,</span> <span class="n">float64</span> <span class="n">z</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vx</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vy</span><span class="p">,</span> <span class="n">float64</span> <span class="n">vz</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">radius</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">set_state</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span>  <span class="p">&amp;</span>
    <span class="n">radius</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span> <span class="n">radius</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">set_state</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle for which the state is to be updated. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>mass</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new mass of the particle</li>
<li><strong>x</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
<li><strong>vx</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new velocity vector of the particle</li>
<li><strong>vy</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new velocity vector of the particle</li>
<li><strong>vz</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new velocity vector of the particle</li>
<li><strong>radius</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new radius of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was found in the model and the information was set</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">code does not support updating of a particle</p>
</dd>
<dt>-3 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="object-state-extension-mechanism">
<h2>Object State, Extension Mechanism<a class="headerlink" href="#object-state-extension-mechanism" title="Permalink to this headline">¶</a></h2>
<p>Not all information of a particle can be transferred with the get_state and set_state functions. To
support other properties (like acceleration), the code can define <code class="docutils literal notranslate"><span class="pre">get_</span></code> and <code class="docutils literal notranslate"><span class="pre">set_</span></code> functions. These
functions must get or set one scalar property (1 argument) or a vector property (3 arguments)</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_acceleration">
<code class="descname">get_acceleration</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the acceleration vector of a particle. Second time derivative of the position.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_acceleration</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">ax</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="o">*</span> <span class="n">ay</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">az</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_acceleration</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ay</span><span class="p">,</span> <span class="n">az</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ay</span><span class="p">,</span> <span class="n">az</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_acceleration</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle to get the state from. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>ax</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>ay</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>az</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">current value was retrieved</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_mass">
<code class="descname">get_mass</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the mass of a particle. Mass is a scalar property of a particle,
this function has one OUT argument.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_mass</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">mass</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_mass</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">mass</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_mass</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle to get the state from. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>mass</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current mass of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was removed from the model</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_position">
<code class="descname">get_position</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the position vector of a particle. Position is a vector property,
this function has 3 OUT arguments.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_position</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="o">*</span> <span class="n">z</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_position</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_position</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle to get the state from. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>x</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current position vector of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">current value was retrieved</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_potential">
<code class="descname">get_potential</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the potential at a particle position, for retrieving the potential anywhere in
the field use get_potential_at_point.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_potential</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">potential</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_potential</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">potential</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">potential</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_potential</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle for which the state is to be updated. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>potential</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current scalar potential…</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">current value was retrieved</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.set_acceleration">
<code class="descname">set_acceleration</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.set_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the acceleration of a particle.
<em>Defined for symetry with the get_acceleration function.</em>
<em>Should be removed if physaccily unsound</em>
<em>Maybe moved to snapshot support functionality</em></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">set_acceleration</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="n">ax</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">ay</span><span class="p">,</span> <span class="n">float64</span> <span class="n">az</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">set_acceleration</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ay</span><span class="p">,</span> <span class="n">az</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">ax</span><span class="p">,</span> <span class="n">ay</span><span class="p">,</span> <span class="n">az</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">set_acceleration</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle for which the state is to be updated. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>ax</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new acceleration vector of the particle</li>
<li><strong>ay</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new acceleration vector of the particle</li>
<li><strong>az</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new acceleration vector of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was found in the model and the information was set</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">code does not support updating of a particle</p>
</dd>
<dt>-3 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.set_mass">
<code class="descname">set_mass</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.set_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the mass of a particle. Mass is a scalar property of a particle.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">set_mass</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="n">mass</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">set_mass</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">mass</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">set_mass</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle for which the state is to be updated. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>mass</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new mass of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was found in the model and the information was set</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">code does not support updating of a particle</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.set_position">
<code class="descname">set_position</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the position of a particle.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">set_position</span><span class="p">(</span><span class="n">int32</span> <span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">float64</span> <span class="n">x</span><span class="p">,</span> <span class="n">float64</span> <span class="n">y</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="n">z</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">set_position</span><span class="p">(</span><span class="n">index_of_the_particle</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">index_of_the_particle</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">set_position</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>index_of_the_particle</strong> (<em>int32</em><em>, </em><em>IN</em>) – Index of the particle for which the state is to be updated. This index must have been returned by an earlier call to <a class="reference internal" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle" title="amuse.community.interface.gd.GravitationalDynamicsInterface.new_particle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_particle()</span></code></a></li>
<li><strong>x</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>IN</em>) – The new position vector of the particle</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">particle was found in the model and the information was set</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">particle could not be found</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">code does not support updating of a particle</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="model-evolution">
<h2>Model evolution<a class="headerlink" href="#model-evolution" title="Permalink to this headline">¶</a></h2>
<p>The gravitational dynamics codes evolve the properties of the particles in time. The following functions
are needed to control the evolution in the code.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.commit_particles">
<code class="descname">commit_particles</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.commit_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Let the code perform initialization actions
after all particles have been loaded in the model.
Should be called before the first evolve call and
after the last new_particle call.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">commit_particles</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">commit_particles</span><span class="p">()</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">commit_particles</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Model is initialized and evolution can start</dd>
<dt>-1 - ERROR</dt>
<dd>Error happened during initialization, this error needs to be further specified by every code implemention</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="diagnostics">
<h2>Diagnostics<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h2>
<p>The state of the code can be queried, before, during and after the model calculations. The following
function can be used to query the exact model time, the total energies and colliding particles.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd><dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_center_of_mass_position">
<code class="descname">get_center_of_mass_position</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_center_of_mass_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the center of mass (a point in space) of all particles.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_center_of_mass_position</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">z</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_center_of_mass_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_center_of_mass_position</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The center of mass of the model</li>
<li><strong>y</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The center of mass of the model</li>
<li><strong>z</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The center of mass of the model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">Current value of the center was retrieved</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">The mass could not be provided</p>
</dd>
<dt>-2 - ERROR</dt>
<dd><p class="first last">not yet implemented</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_center_of_mass_velocity">
<code class="descname">get_center_of_mass_velocity</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_center_of_mass_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the velocity of the center of mass of all particles. This
velocity is mass weighted mean of the velocity of all particles.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_center_of_mass_velocity</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">vx</span><span class="p">,</span> <span class="n">float64</span> <span class="o">*</span> <span class="n">vy</span><span class="p">,</span> 
  <span class="n">float64</span> <span class="o">*</span> <span class="n">vz</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_center_of_mass_velocity</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_center_of_mass_velocity</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vx</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The mean velocity of the model</li>
<li><strong>vy</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The mean velocity of the model</li>
<li><strong>vz</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The mean velocity  of the model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>0 - OK</dt>
<dd><p class="first last">Current value of the center of mass velocity was retrieved</p>
</dd>
<dt>-1 - ERROR</dt>
<dd><p class="first last">The value could not be provided</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_kinetic_energy">
<code class="descname">get_kinetic_energy</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_kinetic_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current kinetic energy of the model</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_kinetic_energy</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">kinetic_energy</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_kinetic_energy</span><span class="p">(</span><span class="n">kinetic_energy</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">kinetic_energy</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_kinetic_energy</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kinetic_energy</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The kinetic energy of the model</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the kinetic energy was set</dd>
<dt>-1 - ERROR</dt>
<dd>Kinetic energy could not be provided</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_potential_energy">
<code class="descname">get_potential_energy</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_potential_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current potential energy of the model</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_potential_energy</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">potential_energy</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_potential_energy</span><span class="p">(</span><span class="n">potential_energy</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">potential_energy</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_potential_energy</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>potential_energy</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The potential energy of the model</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the potential energy was set</dd>
<dt>-1 - ERROR</dt>
<dd>Kinetic potential could not be provided</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_time">
<code class="descname">get_time</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the model time. This time should be close to the end time specified
in the evolve code. Or, when a collision was detected, it will be the
model time of the collision.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_time</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">time</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_time</span><span class="p">(</span><span class="nb">time</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="nb">time</span>
<span class="nb">  </span><span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_time</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The current model time</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the time was retrieved</dd>
<dt>-1 - ERROR</dt>
<dd>The code does not have support for querying the time</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_total_mass">
<code class="descname">get_total_mass</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_total_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the sum of the masses of all particles.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_total_mass</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">mass</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_total_mass</span><span class="p">(</span><span class="n">mass</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">mass</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_total_mass</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mass</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The total mass of the model</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the kinetic mass was retrieved</dd>
<dt>-1 - ERROR</dt>
<dd>Total mass could not be provided</dd>
<dt>-2 - ERROR</dt>
<dd>not yet implemented</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="amuse.community.interface.gd.GravitationalDynamicsInterface.get_total_radius">
<code class="descname">get_total_radius</code><a class="headerlink" href="#amuse.community.interface.gd.GravitationalDynamicsInterface.get_total_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the radius of the sphere, centered on the center of mass that
contains all the particles. <em>get_size?</em></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">int32</span> <span class="nf">get_total_radius</span><span class="p">(</span><span class="n">float64</span> <span class="o">*</span> <span class="n">radius</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION </span><span class="n">get_total_radius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
  <span class="kt">DOUBLE PRECISION</span> <span class="kd">::</span> <span class="n">radius</span>
  <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">get_total_radius</span>
<span class="k">END FUNCTION</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>radius</strong> (<em>float64</em><em>, </em><em>OUT</em>) – The maximum distance from a star to the center of mass of the model</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>0 - OK</dt>
<dd>Current value of the radius was retrieved</dd>
<dt>-1 - ERROR</dt>
<dd>The value could not be provided</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>Some Gravitational Dynamics codes can provide services for other codes. Currently calculating
the gravity at a given point is the only specified function.</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">amuse.community.interface.gd.</code><code class="descname">GravitationalDynamicsInterface</code></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="stellar_evolution_interface_specification.html" class="btn btn-neutral float-right" title="Stellar Evolution Interface Definition" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction_interface_specification.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019 The AMUSE Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.amusecode.org/" : "http://stats.amusecode.org/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.amusecode.org/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

     


</body>
</html>