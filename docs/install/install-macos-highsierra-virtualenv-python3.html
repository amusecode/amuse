

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing on macOS High Sierra with Python 3.6 &mdash; AMUSE 12.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
     
    <link rel="stylesheet" href="../_static/default.css" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AMUSE
          

          
          </a>

          
            
            
              <div class="version">
                12.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_tutorial/index.html">Interactive tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMUSE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Installing on macOS High Sierra with Python 3.6</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/install/install-macos-highsierra-virtualenv-python3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-on-macos-high-sierra-with-python-3-6">
<h1>Installing on macOS High Sierra with Python 3.6<a class="headerlink" href="#installing-on-macos-high-sierra-with-python-3-6" title="Permalink to this headline">¶</a></h1>
<p>In this section we assume a default macOS installation with macports installed.</p>
<div class="section" id="installing-prerequisites">
<h2>Installing prerequisites<a class="headerlink" href="#installing-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>These prerequisites are essential for building AMUSE and the community codes.
They can be installed system-wide with the commands below.
You can choose between openmpi and mpich as desired, both work with AMUSE.
Please make sure to set the compilers installed here as default, as it will greatly simplify things later on.</p>
<p>For openmpi do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">gcc7</span> <span class="n">openmpi</span><span class="o">-</span><span class="n">gcc7</span> <span class="n">hdf5</span> <span class="n">gsl</span> <span class="n">cmake</span> <span class="n">gmp</span> <span class="n">mpfr</span> <span class="n">fftw</span><span class="o">-</span><span class="mi">3</span> <span class="o">+</span><span class="n">gcc7</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">python36</span> <span class="n">py36</span><span class="o">-</span><span class="n">virtualenv</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">mpi</span> <span class="n">openmpi</span><span class="o">-</span><span class="n">gcc7</span><span class="o">-</span><span class="n">fortran</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">gcc</span> <span class="n">mp</span><span class="o">-</span><span class="n">gcc7</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">python3</span> <span class="n">python36</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">virtualenv</span> <span class="n">virtualenv36</span>
</pre></div>
</div>
<p>For mpich do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">gcc7</span> <span class="n">mpich</span><span class="o">-</span><span class="n">gcc7</span> <span class="n">hdf5</span> <span class="n">gsl</span> <span class="n">cmake</span> <span class="n">gmp</span> <span class="n">mpfr</span> <span class="n">fftw</span><span class="o">-</span><span class="mi">3</span> <span class="o">+</span><span class="n">gcc7</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">python36</span> <span class="n">py36</span><span class="o">-</span><span class="n">virtualenv</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">mpi</span> <span class="n">mpich</span><span class="o">-</span><span class="n">gcc7</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">gcc</span> <span class="n">mp</span><span class="o">-</span><span class="n">gcc7</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">python2</span> <span class="n">python27</span>
<span class="o">&gt;</span> <span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">virtualenv</span> <span class="n">virtualenv36</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-amuse">
<h2>Installing AMUSE<a class="headerlink" href="#installing-amuse" title="Permalink to this headline">¶</a></h2>
<p>First, create a virtual environment to install AMUSE and other desired Python packages in.
This ensures that you don’t need root privileges and that your AMUSE environment is isolated from other system-installed packages.</p>
<p>To create the virtual environment, do (from a desired directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">Amuse</span><span class="o">-</span><span class="n">env</span>
</pre></div>
</div>
<p>When the environment is created, you can activate it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="o">.</span> <span class="n">Amuse</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>You may want to make an alias for this, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">alias</span> <span class="n">amuse</span><span class="o">-</span><span class="n">env</span><span class="o">=</span><span class="s1">&#39;. ~/virtualenvironments/Amuse-env/bin/activate&#39;</span>
</pre></div>
</div>
<p>From this point, your prompt will have ‘Amuse-env’ in front of it, so you will always know when you’re in this virtual environment.</p>
<p>Now you can use pip to install the prerequisite python modules for AMUSE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">nose</span> <span class="n">docutils</span> <span class="n">mpi4py</span> <span class="n">h5py</span>
</pre></div>
</div>
<p>Probably, you’ll want to install these Python modules too:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">scipy</span> <span class="n">astropy</span> <span class="n">jupyter</span> <span class="n">pandas</span> <span class="n">seaborn</span>
</pre></div>
</div>
<p>Now we can finally install AMUSE itself.
First, download AMUSE or preferably make a git clone (in a desired directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">amusecode</span><span class="o">/</span><span class="n">amuse</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Then, change to the AMUSE directory and run configure, enabling optional GPU features if present/required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">cd</span> <span class="n">amuse</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">configure</span> <span class="p">[</span><span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">cuda</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">sapporo2</span><span class="p">]</span>
</pre></div>
</div>
<p>Finally, build and install AMUSE, with optionally downloaded codes if desired:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="p">[</span><span class="n">export</span> <span class="n">DOWNLOAD_CODES</span><span class="o">=</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>Optionally, to test if your setup was successful, run (this will take a long time):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2019 The AMUSE Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.amusecode.org/" : "http://stats.amusecode.org/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.amusecode.org/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

     


</body>
</html>